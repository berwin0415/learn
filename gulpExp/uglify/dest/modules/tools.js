define(function(require,exports,module){var ob,Observer=(ob={},{on:function(eventName,handler){ob[eventName]instanceof Array?ob[eventName].push(handler):ob[eventName]=[handler]},trigger:function(eventName,msg){ob[eventName]?ob[eventName].forEach(function(value,index){value(msg)}):console.log("该"+eventName+"事件不存在")},off:function(eventName,handler){ob[eventName]&&ob[eventName].forEach(function(value,index){value===handler&&ob[eventName].splice(index,1)})}});module.exports.format=function(tplStr,dictionary){return tplStr.replace(/<%([a-z_]+(\.[a-z_]+)*)%>/g,function(match,$1){for(var arr=$1.split("."),obj=dictionary,i=0;i<arr.length-1;i++){if("object"!=typeof obj[arr[i]]||null==obj[arr[i]])return"";obj=obj[arr[i]]}return obj[arr[i]]})},module.exports.Observer=Observer});