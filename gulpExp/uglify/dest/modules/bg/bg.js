define(function(require,exports,module){require("modules/tools").format;MVC.addModel("bg",{arr:["imgs/art/bg1.jpg","imgs/art/bg2.jpg","imgs/art/bg3.jpg","imgs/art/bg4.jpg","imgs/art/bg5.jpg","imgs/art/bg6.jpg"],idx:parseInt(6*Math.random())}),MVC.addView("bg",function(M){for(var dom=document.getElementById("bg"),data=M.get("bg"),ul=document.createElement("ul"),i=0;i<data.arr.length;i++){var li=document.createElement("li");i===data.idx&&(li.className="active");var img=new Image;img.src=data.arr[i],li.appendChild(img),ul.appendChild(li)}return dom.appendChild(ul),dom}),MVC.addCtrl("bg",function(M,V){var dom=V.create("bg"),$dom=$(dom),idx=M.get("bg.idx"),$lis=$dom.find("li");setInterval(function(){$lis.eq(idx).animate({opacity:0},1e3),++idx>=$lis.length&&(idx=0),$lis.eq(idx).animate({opacity:1},1e3)},2e3)})});