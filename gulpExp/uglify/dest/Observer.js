var Observer=function(){var ob={};return{on:function(eventName,handler){ob[eventName]instanceof Array?ob[eventName].push(handler):ob[eventName]=[handler]},trigger:function(eventName,msg){ob[eventName]?ob[eventName].forEach(function(value,index){value(msg)}):console.log("该"+eventName+"事件不存在")},off:function(eventName,handler){ob[eventName]&&ob[eventName].forEach(function(value,index){value===handler&&ob[eventName].splice(index,1)})}}}();